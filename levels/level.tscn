[gd_scene format=3 uid="uid://vr472n0ku81u"]

[ext_resource type="Shader" uid="uid://cxvp62bp8aq08" path="res://levels/assets/Backdrop.gdshader" id="1_80vhd"]
[ext_resource type="Script" uid="uid://cks4fmo6ia6pb" path="res://src/LocalMultiplayerLevel.cs" id="1_gjl0y"]
[ext_resource type="PackedScene" uid="uid://cj7ucao0d5den" path="res://AC_Player.tscn" id="2_hjsbj"]
[ext_resource type="Script" uid="uid://ccylebg7df6u2" path="res://src/GoalZone/GoalZoneSpawner.cs" id="3_5mrsh"]
[ext_resource type="PackedScene" uid="uid://b1awodkisntg" path="res://UI_PlayerInfo.tscn" id="3_vnv7o"]
[ext_resource type="Script" uid="uid://ch7jcbdn7a7yi" path="res://src/DynamicCamera.cs" id="4_rtcij"]
[ext_resource type="PackedScene" uid="uid://5q744y4bjyiq" path="res://GoalZone.tscn" id="4_safpt"]
[ext_resource type="Script" uid="uid://bx8sqineax63u" path="res://src/Mask/MaskSpawner.cs" id="7_d5x7l"]
[ext_resource type="PackedScene" uid="uid://27h8ms28togi" path="res://src/Mask/MaskPickup.tscn" id="8_rtcij"]
[ext_resource type="Resource" uid="uid://bif5c1tl2gr2i" path="res://src/Mask/D_AllMasks.tres" id="8_ukwr8"]
[ext_resource type="PackedScene" uid="uid://bxaqr0eh0nytl" path="res://src/ScoreTracker/ScoreTracker.tscn" id="11_pb8y7"]

[sub_resource type="Gradient" id="Gradient_80vhd"]
offsets = PackedFloat32Array(0.527668, 1)
colors = PackedColorArray(0.10639999, 0.38, 0.20216002, 1, 0.5372549, 0.2, 0.2, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_hjsbj"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_cwqvt"]
width = 1024
height = 1024
noise = SubResource("FastNoiseLite_hjsbj")
color_ramp = SubResource("Gradient_80vhd")
seamless = true

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_umreq"]

[sub_resource type="BoxMesh" id="BoxMesh_umreq"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_80vhd"]
data = PackedVector3Array(-0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, -0.5, 0.5, -0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, 0.5, -0.5, 0.5, 0.5, 0.5, 0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, 0.5, 0.5, -0.5, 0.5, -0.5, -0.5, -0.5, 0.5, -0.5, 0.5, 0.5, -0.5, -0.5, -0.5, -0.5, -0.5)

[sub_resource type="PlaneMesh" id="PlaneMesh_hjsbj"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_cwqvt"]
render_priority = 0
shader = ExtResource("1_80vhd")
shader_parameter/top_color = Color(0.1, 0.14, 0.28, 1)
shader_parameter/bottom_color = Color(0.03, 0.03, 0.04, 1)
shader_parameter/boundary_y = 0.52
shader_parameter/arc_curvature = 0.18
shader_parameter/band_softness = 0.06
shader_parameter/wobble_amp = 0.015
shader_parameter/wobble_freq = 2.0
shader_parameter/wobble_speed = 0.35
shader_parameter/shimmer_amp = 0.006
shader_parameter/shimmer_freq = 18.0
shader_parameter/shimmer_speed = 1.2
shader_parameter/noise_amount = 0.55

[node name="Level" type="Node3D" unique_id=596543593 node_paths=PackedStringArray("SpawnLocations", "PlayerContainer", "PlayerInfoContainer")]
script = ExtResource("1_gjl0y")
PlayerScene = ExtResource("2_hjsbj")
SpawnLocations = [NodePath("Players")]
PlayerContainer = NodePath("Players")
PlayerInfoScene = ExtResource("3_vnv7o")
PlayerInfoContainer = NodePath("HBoxContainer")

[node name="Players" type="Node3D" parent="." unique_id=842050307]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.57536626, 0)

[node name="Camera3D" type="Camera3D" parent="." unique_id=170340263]
transform = Transform3D(1, 0, 0, 0, 0.7071068, 0.7071068, 0, -0.7071068, 0.7071068, 0, 4.298, 9.86)
script = ExtResource("4_rtcij")

[node name="ground" type="StaticBody3D" parent="." unique_id=673564305]

[node name="Sprite3D" type="Sprite3D" parent="ground" unique_id=680690393]
transform = Transform3D(2.07, 0, 0, 0, 2.07, 0, 0, 0, 2.07, 0, 0, 0)
axis = 1
texture = SubResource("NoiseTexture2D_cwqvt")

[node name="CollisionShape3D" type="CollisionShape3D" parent="ground" unique_id=1702323393]
shape = SubResource("WorldBoundaryShape3D_umreq")

[node name="wall1" type="MeshInstance3D" parent="." unique_id=203067950]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 20, -10, 0, -0.1)
mesh = SubResource("BoxMesh_umreq")
skeleton = NodePath("")

[node name="StaticBody3D" type="StaticBody3D" parent="wall1" unique_id=1577158931]

[node name="CollisionShape3D" type="CollisionShape3D" parent="wall1/StaticBody3D" unique_id=1577493223]
shape = SubResource("ConcavePolygonShape3D_80vhd")

[node name="wall2" type="MeshInstance3D" parent="." unique_id=658359860]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 20, 10, 0, -0.1)
mesh = SubResource("BoxMesh_umreq")
skeleton = NodePath("")

[node name="StaticBody3D" type="StaticBody3D" parent="wall2" unique_id=1814816694]

[node name="CollisionShape3D" type="CollisionShape3D" parent="wall2/StaticBody3D" unique_id=1972186605]
shape = SubResource("ConcavePolygonShape3D_80vhd")

[node name="wall3" type="MeshInstance3D" parent="." unique_id=517507882]
transform = Transform3D(20, 0, 0, 0, 1, 0, 0, 0, 1, 0.1, 0, -10)
mesh = SubResource("BoxMesh_umreq")
skeleton = NodePath("")

[node name="StaticBody3D" type="StaticBody3D" parent="wall3" unique_id=890576302]

[node name="CollisionShape3D" type="CollisionShape3D" parent="wall3/StaticBody3D" unique_id=1089162527]
shape = SubResource("ConcavePolygonShape3D_80vhd")

[node name="wall4" type="MeshInstance3D" parent="." unique_id=1983312205]
transform = Transform3D(20, 0, 0, 0, 1, 0, 0, 0, 1, 0.1, 0, 10)
mesh = SubResource("BoxMesh_umreq")
skeleton = NodePath("")

[node name="StaticBody3D" type="StaticBody3D" parent="wall4" unique_id=557929901]

[node name="CollisionShape3D" type="CollisionShape3D" parent="wall4/StaticBody3D" unique_id=642406714]
shape = SubResource("ConcavePolygonShape3D_80vhd")

[node name="Backdrop" type="MeshInstance3D" parent="." unique_id=361163437]
transform = Transform3D(26.437, 0, 0, 0, 1.0670241, -7.802923, 0, 1.0670241, 7.802923, 0, 1.563, -11.931)
mesh = SubResource("PlaneMesh_hjsbj")
skeleton = NodePath("")
surface_material_override/0 = SubResource("ShaderMaterial_cwqvt")

[node name="Goal Spawner" type="Node3D" parent="." unique_id=1021437552]
script = ExtResource("3_5mrsh")
MinDistance = 6.0
GoalZoneScene = ExtResource("4_safpt")
_availableMasks = ExtResource("8_ukwr8")

[node name="MaskSpawner" type="Node3D" parent="." unique_id=321745574]
script = ExtResource("7_d5x7l")
MaskPickupScene = ExtResource("8_rtcij")
_availableMasks = ExtResource("8_ukwr8")

[node name="ScoreTracker" parent="." unique_id=2090427259 instance=ExtResource("11_pb8y7")]

[node name="HBoxContainer" type="HBoxContainer" parent="." unique_id=1143154661]
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -20.0
offset_top = -40.0
offset_right = 20.0
grow_horizontal = 2
grow_vertical = 0
